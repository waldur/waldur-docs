
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation of an open-source marketplace platform Waldur. See the latest version at https://docs.waldur.com">
      
      
      
        <link rel="canonical" href="https://docs.waldur.com/latest/integrator-guide/ansible-module/">
      
      
        <link rel="prev" href="../../integrations/waldur-mcp-server/">
      
      
        <link rel="next" href="../api-lifecycle/">
      
      
      <link rel="icon" href="../../assets/waldur-logo.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.44">
    
    
      
        <title>Ansible Waldur Module Generator - Waldur Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings1.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings2.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings3.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings4.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings5.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings6.css">
    
      <link rel="stylesheet" href="../../css/print-site.css">
    
      <link rel="stylesheet" href="../../css/print-site-material.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ansible-waldur-module-generator" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Waldur Documentation" class="md-header__button md-logo" aria-label="Waldur Documentation" data-md-component="logo">
      
  <img src="../../assets/waldur-logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Waldur Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Ansible Waldur Module Generator
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../about/getting-started/" class="md-tabs__link">
          
  
  About

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../admin-guide/architecture/" class="md-tabs__link">
          
  
  Admin guide

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../developer-guide/" class="md-tabs__link">
          
  
  Developer guide

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../integrations/" class="md-tabs__link">
          
  
  Integrations

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  Integrator guide

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../user-guide/" class="md-tabs__link">
          
  
  User guide

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Waldur Documentation" class="md-nav__button md-logo" aria-label="Waldur Documentation" data-md-component="logo">
      
  <img src="../../assets/waldur-logo.svg" alt="logo">

    </a>
    Waldur Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    About
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            About
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/data-processing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data processing disclaimer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/governance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Governance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/marketplace/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Marketplace concept
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/publications/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Academic publications
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/reporting-issues/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reporting issues
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/screenshots/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Screenshots
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/support/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Support
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_10" >
        
          
          <label class="md-nav__link" for="__nav_1_10" id="__nav_1_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Terminology
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_10">
            <span class="md-nav__icon md-icon"></span>
            Terminology
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/terminology/glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/terminology/roles_and_permissions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Roles and permissions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/CHANGELOG/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Admin guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Admin guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/backups/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Backups
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/billing-and-accounting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Billing and accounting in Waldur
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/checklist-for-production/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Checklist for Go live
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/cookie-policy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cookie policy and Telemetry
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/debugging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debugging guide for Waldur Mastermind
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/grafana/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Grafana and Prometheus Metrics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/hardware-requirements/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hardware Requirements
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/managing-with-ansible/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Managing Waldur with Ansible
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/multilingual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multilingual User Interface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/offering-users/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OfferingUser management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/waldur-roles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Waldur roles and permissions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/waldur-shell/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Waldur Shell
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_14" >
        
          
          <label class="md-nav__link" for="__nav_2_14" id="__nav_2_14_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Deployment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_14">
            <span class="md-nav__icon md-icon"></span>
            Deployment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/deployment/docker-compose/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Waldur Docker-compose deployment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_14_2" >
        
          
          <label class="md-nav__link" for="__nav_2_14_2" id="__nav_2_14_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Argocd
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_14_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_14_2">
            <span class="md-nav__icon md-icon"></span>
            Argocd
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/deployment/argocd/argocd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Waldur deployment in ArgoCD
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_14_3" >
        
          
          <label class="md-nav__link" for="__nav_2_14_3" id="__nav_2_14_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Helm
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_14_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_14_3">
            <span class="md-nav__icon md-icon"></span>
            Helm
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/deployment/helm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Waldur Helm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_14_3_2" >
        
          
          <label class="md-nav__link" for="__nav_2_14_3_2" id="__nav_2_14_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Docs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_14_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_14_3_2">
            <span class="md-nav__icon md-icon"></span>
            Docs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/deployment/helm/docs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Waldur Helm chart configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/deployment/helm/docs/bootstrap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bootstrap configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/deployment/helm/docs/external-db-integration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    External DB integration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/deployment/helm/docs/helm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Official documentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/deployment/helm/docs/host-aliasing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Host aliasing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/deployment/helm/docs/hpa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HPA setup and configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/deployment/helm/docs/ip-whitelisting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Limiting network access to Mastermind APIs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/deployment/helm/docs/kubectl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Official documentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/deployment/helm/docs/locust/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Locust cofiguration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/deployment/helm/docs/marketplace-script/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Waldur Marketplace script plugin setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/deployment/helm/docs/mastermind-templates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mastermind templates configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/deployment/helm/docs/migration-from-psql-ha/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Migration from Postgresql HA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/deployment/helm/docs/minikube/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Official documentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/deployment/helm/docs/minio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Min.io configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/deployment/helm/docs/postgres-backup-management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PostgreSQL backup configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/deployment/helm/docs/postgres-db-ha/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PostgreSQL HA chart configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/deployment/helm/docs/postgres-db/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PostgreSQL chart configuration (without HA support)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/deployment/helm/docs/proxy-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Proxy setup for Waldur components
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/deployment/helm/docs/rabbitmq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RabbitMQ configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/deployment/helm/docs/saml2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SAML2 configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/deployment/helm/docs/service-endpoint/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Service endpoints
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/deployment/helm/docs/tls-config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TLS configuration instructions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/deployment/helm/docs/whitelabeling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    White-labeling instructions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_15" >
        
          
          <label class="md-nav__link" for="__nav_2_15" id="__nav_2_15_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Identities
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_15">
            <span class="md-nav__icon md-icon"></span>
            Identities
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/identities/LDAP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LDAP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/identities/MyAccessID/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MyAccessID
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/identities/TARA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TARA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/identities/eduGAIN/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    eduGAIN
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/identities/eduTEAMS/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    eduTEAMS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/identities/freeipa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FreeIPA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/identities/keycloak/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Keycloak
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/identities/summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Summary
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_16" >
        
          
          <label class="md-nav__link" for="__nav_2_16" id="__nav_2_16_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Mastermind configuration
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_16">
            <span class="md-nav__icon md-icon"></span>
            Mastermind configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/mastermind-configuration/cli-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CLI guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/mastermind-configuration/configuration-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration options
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/mastermind-configuration/features/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Features
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/mastermind-configuration/general/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/mastermind-configuration/google-calendar/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration of the Google Calendar
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/mastermind-configuration/notification-templates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overriding notification templates via admin panel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/mastermind-configuration/notifications/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Notifications
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/mastermind-configuration/scheduled/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scheduled Background Jobs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/mastermind-configuration/templates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Message templates
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_17" >
        
          
          <label class="md-nav__link" for="__nav_2_17" id="__nav_2_17_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Providers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_17">
            <span class="md-nav__icon md-icon"></span>
            Providers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/providers/azure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/providers/custom-scripts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom scripts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/providers/moab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MOAB
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/providers/openstack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenStack (Tenant)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/providers/remote-waldur/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Remote Offering
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/providers/slurm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SLURM provider
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/providers/waldur-site-agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Waldur Site Agent
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_17_8" >
        
          
          <label class="md-nav__link" for="__nav_2_17_8" id="__nav_2_17_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Docs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_17_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_17_8">
            <span class="md-nav__icon md-icon"></span>
            Docs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/providers/docs/architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plugin Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/providers/docs/offering-users/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Offering Users and Async User Creation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/providers/docs/slurm-usage-reporting-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SLURM Usage Reporting Setup Guide
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_18" >
        
          
          <label class="md-nav__link" for="__nav_2_18" id="__nav_2_18_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Rke2 setup
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_18">
            <span class="md-nav__icon md-icon"></span>
            Rke2 setup
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../admin-guide/rke2-setup/RKE2-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Waldur on RKE2
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developer guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Developer guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developer documentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Core concepts
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Core concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/core-concepts/background/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Background processing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/core-concepts/checklists/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core Checklists
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/core-concepts/event-based-order-processing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    STOMP-Based Event Notification System
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/core-concepts/invitations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Invitations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/core-concepts/logging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Event logging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/core-concepts/managed-entities/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Managed entities
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/core-concepts/marketplace/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Waldur Marketplace Module
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/core-concepts/offering-users/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OfferingUser States and Management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/core-concepts/permissions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Role-based Access Control (RBAC)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/core-concepts/proposals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Waldur Proposal Module
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/core-concepts/quotas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quotas application
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/core-concepts/tasks-and-executors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tasks and executors
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/guides/how-to-add-new-language/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Add a new language for translatable models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/guides/how-to-write-docs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to write docs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/guides/how-to-write-serializers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to write serializers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/guides/how-to-write-tests/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to write tests
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/guides/how-to-write-views/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to write views
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/guides/install-from-src/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/guides/resource-actions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Declaring resource actions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/guides/workflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development guidelines
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Ui
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Ui
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/ui/i18n/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multilingual user interface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/ui/permissions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Role-based access control
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/ui/sdk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Local pipeline for developers: OpenAPI -&gt; TypeScript SDK -&gt; Homeport
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/ui/tables/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Table component
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/ui/terminology_policy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Terminology policy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/ui/testing-http-mocks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mocking HTTP Requests for Unit Tests
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/ui/tests/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/ad-hoc-scripts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ad-hoc scripts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/events/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Events
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/handlers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Registered Handlers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/homeport/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HomePort requirements
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/i18n/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Internationalization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/install-from-src/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/maintenance-announcement/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Maintenance Announcement Management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/mixins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mixin classes documentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/offering-compliance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Offering Compliance API Documentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/project-metadata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project Metadata API Documentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/release-orchestration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release Orchestration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/settings-policy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Settings policy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/templates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Templates
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/waldur-ci-cd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Waldur CI/CD
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_20" >
        
          
          <label class="md-nav__link" for="__nav_3_20" id="__nav_3_20_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Plugins
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_20_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_20">
            <span class="md-nav__icon md-icon"></span>
            Plugins
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/plugins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plugins
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/plugins/invoices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Invoices plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/plugins/jira/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JIRA plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/plugins/openstack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenStack Plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/plugins/plugins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Waldur plugins
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/plugins/valimo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Valimo authentication plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_20_7" >
        
          
          <label class="md-nav__link" for="__nav_3_20_7" id="__nav_3_20_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Openstack
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_20_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_20_7">
            <span class="md-nav__icon md-icon"></span>
            Openstack
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/plugins/openstack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenStack plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/plugins/openstack/backups/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenStack backups
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/plugins/openstack/import/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resources import
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/plugins/openstack/instances/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenStack instances
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Integrations
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Integrations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/glauth/systemd-instructions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Systemd setup for glauth and config refresher
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/lexis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrating LEXIS with Waldur
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/open-ondemand/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrating Open OnDemand with Waldur and SLURM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/service-desk/service-desk-integrations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Service Desk integrations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/waldur-keycloak-mapper/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Waldur Keycloak mapper
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/waldur-mcp-server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Waldur MCP server
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Integrator guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Integrator guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Ansible Waldur Module Generator
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Ansible Waldur Module Generator
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#core-concept" class="md-nav__link">
    <span class="md-ellipsis">
      Core Concept
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    <span class="md-ellipsis">
      Getting Started
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Getting Started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-the-generator" class="md-nav__link">
    <span class="md-ellipsis">
      Running the Generator
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-plugin-system" class="md-nav__link">
    <span class="md-ellipsis">
      The Plugin System
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Plugin System">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-the-facts-plugin" class="md-nav__link">
    <span class="md-ellipsis">
      1. The facts Plugin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-the-crud-plugin" class="md-nav__link">
    <span class="md-ellipsis">
      2. The crud Plugin
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24-25-26-27-28-29-30-31-32-33-34-35-36-37-38-39-40-41-42-43-44-45-46-47-48-49-50-51-52-53-54-55-56-57-58-59-60-61-62-63modules-name-security_group-plugin-crud-resource_type-openstack-security-group-description-manage-openstack-security-groups-and-their-rules-in-waldur-the-core-prefix-for-inferring-standard-api-operation-ids-by-providing-this-the-generator-automatically-enables-check-via-openstack_security_groups_list-delete-via-openstack_security_groups_destroy-base_operation_id-openstack_security_groups-the-operations-block-is-now-only-for-exceptions-and-detailed-configuration-since-check-and-delete-follow-the-convention-they-are-omitted-here-operations-configure-the-update-operation-update-the-id-is-omitted-because-the-api-follows-the-default-convention-of-using-the-_partial_update-suffix-a-list-of-simple-fields-that-are-mutable-if-the-user-provides-a-different-value-for-name-or-description-a-patch-request-will-be-sent-to-update-the-resource-fields-name-description-defines-special-non-standard-update-actions-that-call-dedicated-post-endpoints-these-are-idempotent-and-schema-aware-actions-set_rules-is-the-logical-name-for-our-action-set_rules-the-specific-operationid-to-call-when-this-action-is-triggered-operation-openstack_security_groups_set_rules-the-name-of-the-ansible-parameter-that-triggers-this-action-and-provides-its-data-the-runner-will-only-call-the-operation-if-the-user-provides-the-rules-parameter-and-its-value-differs-from-the-resources-current-state-param-rules-override-the-create-operation-this-is-necessary-because-creating-a-security-group-is-a-nested-action-under-a-tenant-so-it-doesnt-follow-the-standard-base_id_create-pattern-create-id-openstack_tenants_create_security_group-this-block-is-crucial-for-nested-endpoints-it-maps-the-placeholder-in-the-api-url-path-apiopenstack-tenantsuuid-to-the-name-of-an-ansible-parameter-tenant-path_params-uuid-tenant-wait_config-ok_states-ok-the-states-that-mean-success-erred_states-erred-the-states-that-mean-failure-state_field-state-the-key-in-the-resource-dict-that-holds-the-state-this-block-defines-how-to-resolve-dependencies-resolvers-we-need-a-resolver-for-tenant-because-its-used-in-path_params-for-the-create-operation-this-tells-the-generator-how-to-convert-the-user-friendly-tenant-name-or-uuid-into-the-internal-api-urluuid-needed-for-the-api-call-tenant-openstack_tenants-shorthand-for-the-tenants-resolver" class="md-nav__link">
    <span class="md-ellipsis">
      1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63modules: - name: security_group plugin: crud resource_type: &quot;OpenStack security group&quot; description: &quot;Manage OpenStack Security Groups and their rules in Waldur.&quot; # The core prefix for inferring standard API operation IDs. # By providing this, the generator automatically enables: # - `check`: via `openstack_security_groups_list` # - `delete`: via `openstack_security_groups_destroy` base_operation_id: &quot;openstack_security_groups&quot; # The &#39;operations&#39; block is now only for EXCEPTIONS and detailed configuration. # Since &#39;check&#39; and &#39;delete&#39; follow the convention, they are omitted here. operations: # Configure the &#39;update&#39; operation. update: # The &#39;id&#39; is omitted because the API follows the default convention # of using the &#39;_partial_update&#39; suffix. # A list of simple fields that are mutable. If the user provides a # different value for &#39;name&#39; or &#39;description&#39;, a PATCH request will # be sent to update the resource. fields: [&quot;name&quot;, &quot;description&quot;] # Defines special, non-standard update actions that call dedicated # POST endpoints. These are idempotent and schema-aware. actions: # &#39;set_rules&#39; is the logical name for our action. set_rules: # The specific operationId to call when this action is triggered. operation: &quot;openstack_security_groups_set_rules&quot; # The name of the Ansible parameter that triggers this action and # provides its data. The runner will only call the operation if # the user provides the &#39;rules&#39; parameter AND its value differs # from the resource&#39;s current state. param: &quot;rules&quot; # Override the &#39;create&#39; operation. # This is necessary because creating a security group is a NESTED action # under a tenant, so it doesn&#39;t follow the standard &#39;[base_id]_create&#39; pattern. create: id: &quot;openstack_tenants_create_security_group&quot; # This block is crucial for nested endpoints. It maps the placeholder # in the API URL path (`/api/openstack-tenants/{uuid}/...`) to the # name of an Ansible parameter (`tenant`). path_params: uuid: &quot;tenant&quot; wait_config: ok_states: [&quot;OK&quot;] # The state(s) that mean success erred_states: [&quot;ERRED&quot;] # The state(s) that mean failure state_field: &quot;state&quot; # The key in the resource dict that holds the state # This block defines how to resolve dependencies. resolvers: # We need a resolver for &#39;tenant&#39; because it&#39;s used in `path_params` for # the &#39;create&#39; operation. This tells the generator how to convert the # user-friendly tenant name or UUID into the internal API URL/UUID # needed for the API call. tenant: &quot;openstack_tenants&quot; # Shorthand for the tenants resolver
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63modules: - name: security_group plugin: crud resource_type: "OpenStack security group" description: "Manage OpenStack Security Groups and their rules in Waldur." # The core prefix for inferring standard API operation IDs. # By providing this, the generator automatically enables: # - `check`: via `openstack_security_groups_list` # - `delete`: via `openstack_security_groups_destroy` base_operation_id: "openstack_security_groups" # The 'operations' block is now only for EXCEPTIONS and detailed configuration. # Since 'check' and 'delete' follow the convention, they are omitted here. operations: # Configure the 'update' operation. update: # The 'id' is omitted because the API follows the default convention # of using the '_partial_update' suffix. # A list of simple fields that are mutable. If the user provides a # different value for 'name' or 'description', a PATCH request will # be sent to update the resource. fields: ["name", "description"] # Defines special, non-standard update actions that call dedicated # POST endpoints. These are idempotent and schema-aware. actions: # 'set_rules' is the logical name for our action. set_rules: # The specific operationId to call when this action is triggered. operation: "openstack_security_groups_set_rules" # The name of the Ansible parameter that triggers this action and # provides its data. The runner will only call the operation if # the user provides the 'rules' parameter AND its value differs # from the resource's current state. param: "rules" # Override the 'create' operation. # This is necessary because creating a security group is a NESTED action # under a tenant, so it doesn't follow the standard '[base_id]_create' pattern. create: id: "openstack_tenants_create_security_group" # This block is crucial for nested endpoints. It maps the placeholder # in the API URL path (`/api/openstack-tenants/{uuid}/...`) to the # name of an Ansible parameter (`tenant`). path_params: uuid: "tenant" wait_config: ok_states: ["OK"] # The state(s) that mean success erred_states: ["ERRED"] # The state(s) that mean failure state_field: "state" # The key in the resource dict that holds the state # This block defines how to resolve dependencies. resolvers: # We need a resolver for 'tenant' because it's used in `path_params` for # the 'create' operation. This tells the generator how to convert the # user-friendly tenant name or UUID into the internal API URL/UUID # needed for the API call. tenant: "openstack_tenants" # Shorthand for the tenants resolver">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#3-the-order-plugin" class="md-nav__link">
    <span class="md-ellipsis">
      3. The order Plugin
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#plugin-based-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Plugin-Based Architecture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#runtime-logic-runners-and-the-resolver" class="md-nav__link">
    <span class="md-ellipsis">
      Runtime Logic (Runners and the Resolver)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-resolvers-concept-bridging-the-human-api-gap" class="md-nav__link">
    <span class="md-ellipsis">
      The Resolvers Concept: Bridging the Human-API Gap
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Resolvers Concept: Bridging the Human-API Gap">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simple-resolvers" class="md-nav__link">
    <span class="md-ellipsis">
      Simple Resolvers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-resolvers-dependency-filtering" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced Resolvers: Dependency Filtering
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resolving-lists-of-items" class="md-nav__link">
    <span class="md-ellipsis">
      Resolving Lists of Items
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#component-responsibilities" class="md-nav__link">
    <span class="md-ellipsis">
      Component Responsibilities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-add-a-new-plugin" class="md-nav__link">
    <span class="md-ellipsis">
      How to Add a New Plugin
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use-the-generated-collection" class="md-nav__link">
    <span class="md-ellipsis">
      How to Use the Generated Collection
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How to Use the Generated Collection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#method-1-local-development-and-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Method 1: Local Development and Testing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#publishing-and-installing" class="md-nav__link">
    <span class="md-ellipsis">
      Publishing and Installing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Publishing and Installing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#publishing-to-ansible-galaxy" class="md-nav__link">
    <span class="md-ellipsis">
      Publishing to Ansible Galaxy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-from-ansible-galaxy-for-end-users" class="md-nav__link">
    <span class="md-ellipsis">
      Installing from Ansible Galaxy (for End-Users)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#end-to-end-testing-with-vcr" class="md-nav__link">
    <span class="md-ellipsis">
      End-to-End Testing with VCR
    </span>
  </a>
  
    <nav class="md-nav" aria-label="End-to-End Testing with VCR">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-concept-cassette-based-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Core Concept: Cassette-Based Testing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-the-e2e-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Running the E2E Tests
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Running the E2E Tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mode-1-replaying-standard-cicd-and-local-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Mode 1: Replaying (Standard CI/CD and Local Testing)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mode-2-recording-when-adding-or-modifying-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Mode 2: Recording (When Adding or Modifying Tests)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writing-a-new-e2e-test" class="md-nav__link">
    <span class="md-ellipsis">
      Writing a New E2E Test
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api-lifecycle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Waldur Release Lifecycle and API Stability Guarantees
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reporting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reporting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sdk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Waldur Python SDK
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../service-provider-onboarding/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Service Provider Onboarding
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    APIs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            APIs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    REST API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/authentication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authentication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/permissions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Permissions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/project-api-examples/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project API examples
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/sdk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Waldur SDK Documentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_6_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6_6" id="__nav_5_6_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API Changes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_6_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6_6">
            <span class="md-nav__icon md-icon"></span>
            API Changes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.4.8-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.4.8
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.4.9-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.4.9
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.5.0-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.5.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.5.1-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.5.1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.5.2-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.5.2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.5.3-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.5.3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.5.4-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.5.4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.5.5-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.5.5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.5.6-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.5.6
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.5.7-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.5.7
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.5.8-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.5.8
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.5.9-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.5.9
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.6.0-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.6.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.6.1-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.6.1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.6.2-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.6.2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.6.3-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.6.3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.6.4-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.6.4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.6.5-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.6.5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.6.6-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.6.6
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.6.7-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.6.7
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.6.8-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.6.8
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.6.9-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.6.9
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.7.0-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.7.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.7.1-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.7.1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.7.2-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.7.2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.7.3-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.7.3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.7.4-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.7.4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.7.5-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.7.5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIs/api-changes/waldur-openapi-schema-7.7.6-diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI schema diff - 7.7.6
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_7" >
        
          
          <label class="md-nav__link" for="__nav_5_7" id="__nav_5_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SDK Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_7">
            <span class="md-nav__icon md-icon"></span>
            SDK Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SDK-Examples/allocation-management-sp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Allocation Lifecycle Management by Service Provider
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_8" >
        
          
          <label class="md-nav__link" for="__nav_5_8" id="__nav_5_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Existing integrations
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_8">
            <span class="md-nav__icon md-icon"></span>
            Existing integrations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../existing-integrations/firezone/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VPNaaS custom script - Provisioning VPN as a Service based on Firezone
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../existing-integrations/guacamole/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Waldur Guacamole integration
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    User guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            User guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Call managing organization
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            Call managing organization
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/call-managing-organization/call_management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Call Management
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Customer organization
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            Customer organization
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/staff-users/organization-management/#organization-configuration" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Organization management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/customer-organization/cost-and-usage-policies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cost and usage policies
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/customer-organization/credit-management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Credit management for organization owners
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/customer-organization/organization_membership_management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Organization membership management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/customer-organization/project-management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/customer-organization/project_membership_management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project membership management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/customer-organization/resource_management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resource management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/customer-organization/usage_reports/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage reports
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    End users
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            End users
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/end-users/interface/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interface Introduction
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5" >
        
          
          <label class="md-nav__link" for="__nav_6_5" id="__nav_6_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Service provider organization
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5">
            <span class="md-nav__icon md-icon"></span>
            Service provider organization
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/service-provider-organization/accounting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Accounting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/service-provider-organization/adding-an-offering/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Offerings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/service-provider-organization/service-provider-registration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Service provider registration
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_6" >
        
          
          <label class="md-nav__link" for="__nav_6_6" id="__nav_6_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Staff users
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_6">
            <span class="md-nav__icon md-icon"></span>
            Staff users
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/staff-users/announcements/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Announcements
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/staff-users/branding/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Branding configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/staff-users/broadcasting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Broadcast
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/staff-users/catalogue_mode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Catalogue mode
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/staff-users/change-user-password/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changing user passwords
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/staff-users/credit-management-staff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Credit management configuration for staff
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/staff-users/impersonation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Impersonation functionality
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/staff-users/organization-management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Organization management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/staff-users/projects-removal-admin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multiple projects removal via admin panel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/staff-users/remote-sync/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Remote sync of offerings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/staff-users/reporting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reporting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/staff-users/team-management-staff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Team management for staff
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/staff-users/user_role_management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User role management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_6_14" >
        
          
          <label class="md-nav__link" for="__nav_6_6_14" id="__nav_6_6_14_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Service desk
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_6_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_6_14">
            <span class="md-nav__icon md-icon"></span>
            Service desk
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/staff-users/service-desk/service-desk-config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Service desk configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/staff-users/service-desk/service-desk-interactions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Service desk interactions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#core-concept" class="md-nav__link">
    <span class="md-ellipsis">
      Core Concept
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    <span class="md-ellipsis">
      Getting Started
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Getting Started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-the-generator" class="md-nav__link">
    <span class="md-ellipsis">
      Running the Generator
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-plugin-system" class="md-nav__link">
    <span class="md-ellipsis">
      The Plugin System
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Plugin System">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-the-facts-plugin" class="md-nav__link">
    <span class="md-ellipsis">
      1. The facts Plugin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-the-crud-plugin" class="md-nav__link">
    <span class="md-ellipsis">
      2. The crud Plugin
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24-25-26-27-28-29-30-31-32-33-34-35-36-37-38-39-40-41-42-43-44-45-46-47-48-49-50-51-52-53-54-55-56-57-58-59-60-61-62-63modules-name-security_group-plugin-crud-resource_type-openstack-security-group-description-manage-openstack-security-groups-and-their-rules-in-waldur-the-core-prefix-for-inferring-standard-api-operation-ids-by-providing-this-the-generator-automatically-enables-check-via-openstack_security_groups_list-delete-via-openstack_security_groups_destroy-base_operation_id-openstack_security_groups-the-operations-block-is-now-only-for-exceptions-and-detailed-configuration-since-check-and-delete-follow-the-convention-they-are-omitted-here-operations-configure-the-update-operation-update-the-id-is-omitted-because-the-api-follows-the-default-convention-of-using-the-_partial_update-suffix-a-list-of-simple-fields-that-are-mutable-if-the-user-provides-a-different-value-for-name-or-description-a-patch-request-will-be-sent-to-update-the-resource-fields-name-description-defines-special-non-standard-update-actions-that-call-dedicated-post-endpoints-these-are-idempotent-and-schema-aware-actions-set_rules-is-the-logical-name-for-our-action-set_rules-the-specific-operationid-to-call-when-this-action-is-triggered-operation-openstack_security_groups_set_rules-the-name-of-the-ansible-parameter-that-triggers-this-action-and-provides-its-data-the-runner-will-only-call-the-operation-if-the-user-provides-the-rules-parameter-and-its-value-differs-from-the-resources-current-state-param-rules-override-the-create-operation-this-is-necessary-because-creating-a-security-group-is-a-nested-action-under-a-tenant-so-it-doesnt-follow-the-standard-base_id_create-pattern-create-id-openstack_tenants_create_security_group-this-block-is-crucial-for-nested-endpoints-it-maps-the-placeholder-in-the-api-url-path-apiopenstack-tenantsuuid-to-the-name-of-an-ansible-parameter-tenant-path_params-uuid-tenant-wait_config-ok_states-ok-the-states-that-mean-success-erred_states-erred-the-states-that-mean-failure-state_field-state-the-key-in-the-resource-dict-that-holds-the-state-this-block-defines-how-to-resolve-dependencies-resolvers-we-need-a-resolver-for-tenant-because-its-used-in-path_params-for-the-create-operation-this-tells-the-generator-how-to-convert-the-user-friendly-tenant-name-or-uuid-into-the-internal-api-urluuid-needed-for-the-api-call-tenant-openstack_tenants-shorthand-for-the-tenants-resolver" class="md-nav__link">
    <span class="md-ellipsis">
      1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63modules: - name: security_group plugin: crud resource_type: &quot;OpenStack security group&quot; description: &quot;Manage OpenStack Security Groups and their rules in Waldur.&quot; # The core prefix for inferring standard API operation IDs. # By providing this, the generator automatically enables: # - `check`: via `openstack_security_groups_list` # - `delete`: via `openstack_security_groups_destroy` base_operation_id: &quot;openstack_security_groups&quot; # The &#39;operations&#39; block is now only for EXCEPTIONS and detailed configuration. # Since &#39;check&#39; and &#39;delete&#39; follow the convention, they are omitted here. operations: # Configure the &#39;update&#39; operation. update: # The &#39;id&#39; is omitted because the API follows the default convention # of using the &#39;_partial_update&#39; suffix. # A list of simple fields that are mutable. If the user provides a # different value for &#39;name&#39; or &#39;description&#39;, a PATCH request will # be sent to update the resource. fields: [&quot;name&quot;, &quot;description&quot;] # Defines special, non-standard update actions that call dedicated # POST endpoints. These are idempotent and schema-aware. actions: # &#39;set_rules&#39; is the logical name for our action. set_rules: # The specific operationId to call when this action is triggered. operation: &quot;openstack_security_groups_set_rules&quot; # The name of the Ansible parameter that triggers this action and # provides its data. The runner will only call the operation if # the user provides the &#39;rules&#39; parameter AND its value differs # from the resource&#39;s current state. param: &quot;rules&quot; # Override the &#39;create&#39; operation. # This is necessary because creating a security group is a NESTED action # under a tenant, so it doesn&#39;t follow the standard &#39;[base_id]_create&#39; pattern. create: id: &quot;openstack_tenants_create_security_group&quot; # This block is crucial for nested endpoints. It maps the placeholder # in the API URL path (`/api/openstack-tenants/{uuid}/...`) to the # name of an Ansible parameter (`tenant`). path_params: uuid: &quot;tenant&quot; wait_config: ok_states: [&quot;OK&quot;] # The state(s) that mean success erred_states: [&quot;ERRED&quot;] # The state(s) that mean failure state_field: &quot;state&quot; # The key in the resource dict that holds the state # This block defines how to resolve dependencies. resolvers: # We need a resolver for &#39;tenant&#39; because it&#39;s used in `path_params` for # the &#39;create&#39; operation. This tells the generator how to convert the # user-friendly tenant name or UUID into the internal API URL/UUID # needed for the API call. tenant: &quot;openstack_tenants&quot; # Shorthand for the tenants resolver
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63modules: - name: security_group plugin: crud resource_type: "OpenStack security group" description: "Manage OpenStack Security Groups and their rules in Waldur." # The core prefix for inferring standard API operation IDs. # By providing this, the generator automatically enables: # - `check`: via `openstack_security_groups_list` # - `delete`: via `openstack_security_groups_destroy` base_operation_id: "openstack_security_groups" # The 'operations' block is now only for EXCEPTIONS and detailed configuration. # Since 'check' and 'delete' follow the convention, they are omitted here. operations: # Configure the 'update' operation. update: # The 'id' is omitted because the API follows the default convention # of using the '_partial_update' suffix. # A list of simple fields that are mutable. If the user provides a # different value for 'name' or 'description', a PATCH request will # be sent to update the resource. fields: ["name", "description"] # Defines special, non-standard update actions that call dedicated # POST endpoints. These are idempotent and schema-aware. actions: # 'set_rules' is the logical name for our action. set_rules: # The specific operationId to call when this action is triggered. operation: "openstack_security_groups_set_rules" # The name of the Ansible parameter that triggers this action and # provides its data. The runner will only call the operation if # the user provides the 'rules' parameter AND its value differs # from the resource's current state. param: "rules" # Override the 'create' operation. # This is necessary because creating a security group is a NESTED action # under a tenant, so it doesn't follow the standard '[base_id]_create' pattern. create: id: "openstack_tenants_create_security_group" # This block is crucial for nested endpoints. It maps the placeholder # in the API URL path (`/api/openstack-tenants/{uuid}/...`) to the # name of an Ansible parameter (`tenant`). path_params: uuid: "tenant" wait_config: ok_states: ["OK"] # The state(s) that mean success erred_states: ["ERRED"] # The state(s) that mean failure state_field: "state" # The key in the resource dict that holds the state # This block defines how to resolve dependencies. resolvers: # We need a resolver for 'tenant' because it's used in `path_params` for # the 'create' operation. This tells the generator how to convert the # user-friendly tenant name or UUID into the internal API URL/UUID # needed for the API call. tenant: "openstack_tenants" # Shorthand for the tenants resolver">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#3-the-order-plugin" class="md-nav__link">
    <span class="md-ellipsis">
      3. The order Plugin
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#plugin-based-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Plugin-Based Architecture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#runtime-logic-runners-and-the-resolver" class="md-nav__link">
    <span class="md-ellipsis">
      Runtime Logic (Runners and the Resolver)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-resolvers-concept-bridging-the-human-api-gap" class="md-nav__link">
    <span class="md-ellipsis">
      The Resolvers Concept: Bridging the Human-API Gap
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Resolvers Concept: Bridging the Human-API Gap">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simple-resolvers" class="md-nav__link">
    <span class="md-ellipsis">
      Simple Resolvers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-resolvers-dependency-filtering" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced Resolvers: Dependency Filtering
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resolving-lists-of-items" class="md-nav__link">
    <span class="md-ellipsis">
      Resolving Lists of Items
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#component-responsibilities" class="md-nav__link">
    <span class="md-ellipsis">
      Component Responsibilities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-add-a-new-plugin" class="md-nav__link">
    <span class="md-ellipsis">
      How to Add a New Plugin
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use-the-generated-collection" class="md-nav__link">
    <span class="md-ellipsis">
      How to Use the Generated Collection
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How to Use the Generated Collection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#method-1-local-development-and-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Method 1: Local Development and Testing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#publishing-and-installing" class="md-nav__link">
    <span class="md-ellipsis">
      Publishing and Installing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Publishing and Installing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#publishing-to-ansible-galaxy" class="md-nav__link">
    <span class="md-ellipsis">
      Publishing to Ansible Galaxy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-from-ansible-galaxy-for-end-users" class="md-nav__link">
    <span class="md-ellipsis">
      Installing from Ansible Galaxy (for End-Users)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#end-to-end-testing-with-vcr" class="md-nav__link">
    <span class="md-ellipsis">
      End-to-End Testing with VCR
    </span>
  </a>
  
    <nav class="md-nav" aria-label="End-to-End Testing with VCR">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-concept-cassette-based-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Core Concept: Cassette-Based Testing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-the-e2e-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Running the E2E Tests
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Running the E2E Tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mode-1-replaying-standard-cicd-and-local-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Mode 1: Replaying (Standard CI/CD and Local Testing)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mode-2-recording-when-adding-or-modifying-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Mode 2: Recording (When Adding or Modifying Tests)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writing-a-new-e2e-test" class="md-nav__link">
    <span class="md-ellipsis">
      Writing a New E2E Test
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<div><h1 id="ansible-waldur-module-generator">Ansible Waldur Module Generator</h1>
<p>This project is a code generator designed to automate the creation of a self-contained <strong>Ansible Collection</strong> for the Waldur API. By defining a module's behavior and its API interactions in a simple YAML configuration file, you can automatically generate robust, well-documented, and idempotent Ansible modules, perfectly packaged for distribution and use.</p>
<p>The primary goal is to eliminate boilerplate code, enforce consistency, and dramatically speed up the development process for managing Waldur resources with Ansible. Waldur Ansible Collection is published on <a href="https://galaxy.ansible.com/ui/repo/published/waldur/openstack/">Ansible Galaxy</a>.</p>
<h2 id="core-concept">Core Concept</h2>
<p>The generator works by combining three main components:</p>
<ol>
<li><strong>OpenAPI Specification (<code>waldur_api.yaml</code>):</strong> The single source of truth for all available API endpoints, their parameters, and their data models.</li>
<li><strong>Generator Configuration (<code>generator_config.yaml</code>):</strong> A user-defined YAML file where you describe the Ansible Collection and the modules you want to create. This is where you map high-level logic (like "create a resource") to specific API operations.</li>
<li><strong>Plugins:</strong> The engine of the generator. A plugin understands a specific workflow or pattern (e.g., fetching facts, simple CRUD, or complex marketplace orders) and contains the logic to build the corresponding Ansible module code.</li>
</ol>
<h2 id="getting-started">Getting Started</h2>
<h3 id="prerequisites">Prerequisites</h3>
<ul>
<li>Python 3.11+</li>
<li><a href="https://python-poetry.org/docs/#installation">Poetry</a> (for dependency management and running scripts)</li>
<li>Ansible Core (<code>ansible-core &gt;= 2.14</code>) for building and using the collection.</li>
</ul>
<h3 id="installation">Installation</h3>
<ol>
<li>
<p>Clone the repository:
    </p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>git<span class="w"> </span>clone<span class="w"> </span>&lt;your-repo-url&gt;
<span class="nb">cd</span><span class="w"> </span>ansible-waldur-generator
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>Install the required Python dependencies using Poetry:
    </p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>poetry<span class="w"> </span>install
</code></pre></div></td></tr></table></div>
    This will create a virtual environment and install packages like <code>PyYAML</code>, and <code>Pytest</code>.
</li>
</ol>
<h3 id="running-the-generator">Running the Generator</h3>
<p>To generate the Ansible Collection, run the <code>generate</code> script defined in <code>pyproject.toml</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>poetry<span class="w"> </span>run<span class="w"> </span>ansible-waldur-generator
</code></pre></div></td></tr></table></div>
<p>By default, this command will:
-   Read <code>inputs/generator_config.yaml</code> and <code>inputs/waldur_api.yaml</code>.
-   Use the configured collection name (e.g., <code>waldur.openstack</code>) to create a standard Ansible Collections structure.
-   Place the generated collection into the <code>outputs/</code> directory.</p>
<p>The final structure will look like this:
</p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span></pre></div></td><td class="code"><div><pre><span></span><code>outputs/
 ansible_collections/
     waldur/
         structure/          # Collection 1
            galaxy.yml
            plugins/
               modules/
                  customer.py
                  project.py
               module_utils/
            ...
         openstack/          # Collection 2
            galaxy.yml
            plugins/
               modules/
                  volume.py
                  security_group.py
               module_utils/
            ...
         slurm/              # Collection 3
             galaxy.yml
             ...
</code></pre></div></td></tr></table></div>
<p>You can customize the path using command-line options:
</p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>poetry<span class="w"> </span>run<span class="w"> </span>generate<span class="w"> </span>--config<span class="w"> </span>my_config.yaml<span class="w"> </span>--output-dir<span class="w"> </span>./dist
</code></pre></div></td></tr></table></div>
Run <code>poetry run ansible-waldur-generator --help</code> for a full list of options.
<h2 id="the-plugin-system">The Plugin System</h2>
<p>The generator uses a plugin-based architecture to handle different types of module logic. Each plugin is specialized for a common interaction pattern with the Waldur API. When defining a module in <code>generator_config.yaml</code>, the <code>type</code> key determines which plugin will be used.</p>
<p>The header defines Ansible collection namespace, name and version.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nt">collections</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">waldur</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">structure</span>
<span class="w">    </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0.0</span>
<span class="w">    </span><span class="nt">modules</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">modename</span>
<span class="w">        </span><span class="nt">plugin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">crud</span>
</code></pre></div></td></tr></table></div>
<p>Below is a detailed explanation of each available plugin.</p>
<hr>
<h3 id="1-the-facts-plugin">1. The <code>facts</code> Plugin</h3>
<ul>
<li>
<p><strong>Purpose:</strong> For creating <strong>read-only</strong> Ansible modules that fetch information about existing resources. These modules never change the state of the system and are analogous to Ansible's <code>_facts</code> modules (e.g., <code>setup_facts</code>).</p>
</li>
<li>
<p><strong>Workflow:</strong></p>
<ol>
<li>The module's primary goal is to find and return resource data based on an identifier (by default, <code>name</code>).</li>
<li>If the <code>many: true</code> option is set, the module returns a list of all resources matching the filter criteria.</li>
<li>If <code>many: false</code> (the default), the module expects to find a single resource. It will fail if zero or multiple resources are found, prompting the user to provide a more specific identifier.</li>
<li>It can be configured with <code>context_params</code> (like <code>tenant</code> or <code>project</code>) to filter the search within a parent resource.</li>
</ol>
</li>
<li>
<p><strong>Configuration Example (<code>generator_config.yaml</code>):</strong>
    This example creates a <code>waldur_openstack_security_group_facts</code> module to get information about security groups within a specific tenant.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nt">modules</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">security_group_facts</span>
<span class="w">    </span><span class="nt">plugin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">facts</span>
<span class="w">    </span><span class="nt">resource_type</span><span class="p">:</span><span class="w"> </span><span class="s">"security</span><span class="nv"> </span><span class="s">group"</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">"Get</span><span class="nv"> </span><span class="s">facts</span><span class="nv"> </span><span class="s">about</span><span class="nv"> </span><span class="s">OpenStack</span><span class="nv"> </span><span class="s">security</span><span class="nv"> </span><span class="s">groups."</span>

<span class="w">    </span><span class="c1"># Defines the base prefix for API operations. The 'facts' plugin uses</span>
<span class="w">    </span><span class="c1"># this to automatically infer the necessary operation IDs:</span>
<span class="w">    </span><span class="c1">#  - `check`: via `openstack_security_groups_list`</span>
<span class="w">    </span><span class="c1">#  - `retrieve`: via `openstack_security_groups_retrieve`</span>
<span class="w">    </span><span class="c1"># The 'operations' block is therefore not needed for a conventional API.</span>
<span class="w">    </span><span class="nt">base_operation_id</span><span class="p">:</span><span class="w"> </span><span class="s">"openstack_security_groups"</span>

<span class="w">    </span><span class="c1"># If `true`, the module is allowed to return a list of multiple resources</span>
<span class="w">    </span><span class="c1"># that match the filter criteria.</span>
<span class="w">    </span><span class="c1"># If `false` (the default), the module would fail if more than one</span>
<span class="w">    </span><span class="c1"># resource is found, ensuring a unique result.</span>
<span class="w">    </span><span class="nt">many</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="w">    </span><span class="c1"># Defines additional parameters that can be used to filter the search.</span>
<span class="w">    </span><span class="c1"># This is essential for finding resources within a specific scope.</span>
<span class="w">    </span><span class="nt">context_params</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="c1"># The name of the Ansible parameter the user will provide.</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">"tenant"</span>
<span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">"The</span><span class="nv"> </span><span class="s">name</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">UUID</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">tenant</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">filter</span><span class="nv"> </span><span class="s">security</span><span class="nv"> </span><span class="s">groups</span><span class="nv"> </span><span class="s">by."</span>

<span class="w">        </span><span class="c1"># Tells the generator how to resolve the user-provided 'tenant' name</span>
<span class="w">        </span><span class="c1"># into the UUID needed by the API. The string "openstack_tenants" is</span>
<span class="w">        </span><span class="c1"># a shorthand that expands to the standard list/retrieve operations for tenants.</span>
<span class="w">        </span><span class="nt">resolver</span><span class="p">:</span><span class="w"> </span><span class="s">"openstack_tenants"</span>

<span class="w">        </span><span class="c1"># Specifies the exact query parameter key to use when calling the 'check'</span>
<span class="w">        </span><span class="c1"># operation. The generator will construct a query like:</span>
<span class="w">        </span><span class="c1"># `?tenant_uuid=&lt;resolved_tenant_uuid&gt;`</span>
<span class="w">        </span><span class="nt">filter_key</span><span class="p">:</span><span class="w"> </span><span class="s">"tenant_uuid"</span>
</code></pre></div></td></tr></table></div>
</li>
</ul>
<hr>
<h3 id="2-the-crud-plugin">2. The <code>crud</code> Plugin</h3>
<ul>
<li>
<p><strong>Purpose:</strong> For managing the full lifecycle of resources with <strong>simple, direct, synchronous</strong> API calls. This is ideal for resources that have distinct <code>create</code>, <code>list</code>, <code>update</code>, and <code>destroy</code> endpoints. The plugin supports both top-level resources (like projects) and nested resources (like security groups under a tenant).</p>
</li>
<li>
<p><strong>Workflow:</strong></p>
<ul>
<li><strong><code>state: present</code></strong>:<ol>
<li>Calls the <code>list</code> operation to check if a resource with the given name already exists.</li>
<li>If it <strong>does not exist</strong>, it calls the <code>create</code> operation. <code>resolvers</code> and <code>path_param_maps</code> are used to convert parent resource names into the required API URLs or path UUIDs.</li>
<li>If it <strong>does exist</strong>, it checks for changes:<ul>
<li>It compares values for parameters listed in <code>update_config.fields</code> and sends a <code>PATCH</code> request via the <code>update</code> operation if any have changed.</li>
<li>It checks if any parameters for special <code>update_config.actions</code> are provided and calls their respective <code>POST</code> operations.<ul>
<li><strong>Asynchronous Actions</strong>: If the <code>POST</code> action returns a <code>202 Accepted</code> status code, the module recognizes it as an asynchronous task.</li>
<li>If the <code>wait: true</code> parameter is set (the default), the module will poll the resource's status until it reaches a stable state (e.g., "OK" or "ERRED").</li>
<li>You can configure the stable/error states and polling parameters in <code>generator_config.yaml</code>.</li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
<li><strong><code>state: absent</code></strong>:<ol>
<li>Calls the <code>list</code> operation to find the resource.</li>
<li>If it exists, it calls the <code>destroy</code> operation to remove it.</li>
</ol>
</li>
</ul>
</li>
<li>
<p><strong>Configuration Example (<code>generator_config.yaml</code>):</strong>
    This example creates a <code>security_group</code> module that is a <strong>nested resource</strong> under a tenant, and supports both simple updates (description) and a special action (set_rules).</p>
<h2 id="1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24-25-26-27-28-29-30-31-32-33-34-35-36-37-38-39-40-41-42-43-44-45-46-47-48-49-50-51-52-53-54-55-56-57-58-59-60-61-62-63modules-name-security_group-plugin-crud-resource_type-openstack-security-group-description-manage-openstack-security-groups-and-their-rules-in-waldur-the-core-prefix-for-inferring-standard-api-operation-ids-by-providing-this-the-generator-automatically-enables-check-via-openstack_security_groups_list-delete-via-openstack_security_groups_destroy-base_operation_id-openstack_security_groups-the-operations-block-is-now-only-for-exceptions-and-detailed-configuration-since-check-and-delete-follow-the-convention-they-are-omitted-here-operations-configure-the-update-operation-update-the-id-is-omitted-because-the-api-follows-the-default-convention-of-using-the-_partial_update-suffix-a-list-of-simple-fields-that-are-mutable-if-the-user-provides-a-different-value-for-name-or-description-a-patch-request-will-be-sent-to-update-the-resource-fields-name-description-defines-special-non-standard-update-actions-that-call-dedicated-post-endpoints-these-are-idempotent-and-schema-aware-actions-set_rules-is-the-logical-name-for-our-action-set_rules-the-specific-operationid-to-call-when-this-action-is-triggered-operation-openstack_security_groups_set_rules-the-name-of-the-ansible-parameter-that-triggers-this-action-and-provides-its-data-the-runner-will-only-call-the-operation-if-the-user-provides-the-rules-parameter-and-its-value-differs-from-the-resources-current-state-param-rules-override-the-create-operation-this-is-necessary-because-creating-a-security-group-is-a-nested-action-under-a-tenant-so-it-doesnt-follow-the-standard-base_id_create-pattern-create-id-openstack_tenants_create_security_group-this-block-is-crucial-for-nested-endpoints-it-maps-the-placeholder-in-the-api-url-path-apiopenstack-tenantsuuid-to-the-name-of-an-ansible-parameter-tenant-path_params-uuid-tenant-wait_config-ok_states-ok-the-states-that-mean-success-erred_states-erred-the-states-that-mean-failure-state_field-state-the-key-in-the-resource-dict-that-holds-the-state-this-block-defines-how-to-resolve-dependencies-resolvers-we-need-a-resolver-for-tenant-because-its-used-in-path_params-for-the-create-operation-this-tells-the-generator-how-to-convert-the-user-friendly-tenant-name-or-uuid-into-the-internal-api-urluuid-needed-for-the-api-call-tenant-openstack_tenants-shorthand-for-the-tenants-resolver"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nt">modules</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">security_group</span>
<span class="w">    </span><span class="nt">plugin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">crud</span>
<span class="w">    </span><span class="nt">resource_type</span><span class="p">:</span><span class="w"> </span><span class="s">"OpenStack</span><span class="nv"> </span><span class="s">security</span><span class="nv"> </span><span class="s">group"</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">"Manage</span><span class="nv"> </span><span class="s">OpenStack</span><span class="nv"> </span><span class="s">Security</span><span class="nv"> </span><span class="s">Groups</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">their</span><span class="nv"> </span><span class="s">rules</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="s">Waldur."</span>

<span class="w">    </span><span class="c1"># The core prefix for inferring standard API operation IDs.</span>
<span class="w">    </span><span class="c1"># By providing this, the generator automatically enables:</span>
<span class="w">    </span><span class="c1">#  - `check`: via `openstack_security_groups_list`</span>
<span class="w">    </span><span class="c1">#  - `delete`: via `openstack_security_groups_destroy`</span>
<span class="w">    </span><span class="nt">base_operation_id</span><span class="p">:</span><span class="w"> </span><span class="s">"openstack_security_groups"</span>

<span class="w">    </span><span class="c1"># The 'operations' block is now only for EXCEPTIONS and detailed configuration.</span>
<span class="w">    </span><span class="c1"># Since 'check' and 'delete' follow the convention, they are omitted here.</span>
<span class="w">    </span><span class="nt">operations</span><span class="p">:</span>

<span class="w">      </span><span class="c1"># Configure the 'update' operation.</span>
<span class="w">      </span><span class="nt">update</span><span class="p">:</span>
<span class="w">        </span><span class="c1"># The 'id' is omitted because the API follows the default convention</span>
<span class="w">        </span><span class="c1"># of using the '_partial_update' suffix.</span>

<span class="w">        </span><span class="c1"># A list of simple fields that are mutable. If the user provides a</span>
<span class="w">        </span><span class="c1"># different value for 'name' or 'description', a PATCH request will</span>
<span class="w">        </span><span class="c1"># be sent to update the resource.</span>
<span class="w">        </span><span class="nt">fields</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">"name"</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">"description"</span><span class="p p-Indicator">]</span>

<span class="w">        </span><span class="c1"># Defines special, non-standard update actions that call dedicated</span>
<span class="w">        </span><span class="c1"># POST endpoints. These are idempotent and schema-aware.</span>
<span class="w">        </span><span class="nt">actions</span><span class="p">:</span>
<span class="w">          </span><span class="c1"># 'set_rules' is the logical name for our action.</span>
<span class="w">          </span><span class="nt">set_rules</span><span class="p">:</span>
<span class="w">            </span><span class="c1"># The specific operationId to call when this action is triggered.</span>
<span class="w">            </span><span class="nt">operation</span><span class="p">:</span><span class="w"> </span><span class="s">"openstack_security_groups_set_rules"</span>
<span class="w">            </span><span class="c1"># The name of the Ansible parameter that triggers this action and</span>
<span class="w">            </span><span class="c1"># provides its data. The runner will only call the operation if</span>
<span class="w">            </span><span class="c1"># the user provides the 'rules' parameter AND its value differs</span>
<span class="w">            </span><span class="c1"># from the resource's current state.</span>
<span class="w">            </span><span class="nt">param</span><span class="p">:</span><span class="w"> </span><span class="s">"rules"</span>

<span class="w">      </span><span class="c1"># Override the 'create' operation.</span>
<span class="w">      </span><span class="c1"># This is necessary because creating a security group is a NESTED action</span>
<span class="w">      </span><span class="c1"># under a tenant, so it doesn't follow the standard '[base_id]_create' pattern.</span>
<span class="w">      </span><span class="nt">create</span><span class="p">:</span>
<span class="w">        </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="s">"openstack_tenants_create_security_group"</span>

<span class="w">        </span><span class="c1"># This block is crucial for nested endpoints. It maps the placeholder</span>
<span class="w">        </span><span class="c1"># in the API URL path (`/api/openstack-tenants/{uuid}/...`) to the</span>
<span class="w">        </span><span class="c1"># name of an Ansible parameter (`tenant`).</span>
<span class="w">        </span><span class="nt">path_params</span><span class="p">:</span>
<span class="w">          </span><span class="nt">uuid</span><span class="p">:</span><span class="w"> </span><span class="s">"tenant"</span>

<span class="w">    </span><span class="nt">wait_config</span><span class="p">:</span>
<span class="w">      </span><span class="nt">ok_states</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">"OK"</span><span class="p p-Indicator">]</span><span class="w"> </span><span class="c1"># The state(s) that mean success</span>
<span class="w">      </span><span class="nt">erred_states</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">"ERRED"</span><span class="p p-Indicator">]</span><span class="w"> </span><span class="c1"># The state(s) that mean failure</span>
<span class="w">      </span><span class="nt">state_field</span><span class="p">:</span><span class="w"> </span><span class="s">"state"</span><span class="w"> </span><span class="c1"># The key in the resource dict that holds the state</span>

<span class="w">    </span><span class="c1"># This block defines how to resolve dependencies.</span>
<span class="w">    </span><span class="nt">resolvers</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># We need a resolver for 'tenant' because it's used in `path_params` for</span>
<span class="w">      </span><span class="c1"># the 'create' operation. This tells the generator how to convert the</span>
<span class="w">      </span><span class="c1"># user-friendly tenant name or UUID into the internal API URL/UUID</span>
<span class="w">      </span><span class="c1"># needed for the API call.</span>
<span class="w">      </span><span class="nt">tenant</span><span class="p">:</span><span class="w"> </span><span class="s">"openstack_tenants"</span><span class="w"> </span><span class="c1"># Shorthand for the tenants resolver</span>
</code></pre></div></td></tr></table></div></h2>
</li>
</ul>
<h3 id="3-the-order-plugin">3. The <code>order</code> Plugin</h3>
<ul>
<li><strong>Purpose:</strong> The most powerful and specialized plugin, designed for resources managed through Waldur's <strong>asynchronous marketplace order workflow</strong>. This is the correct plugin for nearly all major cloud resources like VMs, volumes, databases, etc.</li>
</ul>
<p><strong>Attribute Inference</strong>: To simplify configuration, you can specify an offering_type. The generator will then look for a corresponding schema in the OpenAPI specification (e.g., Marketplace.Volume becomes MarketplaceVolumeCreateOrderAttributes) and automatically generate all the necessary attribute_params. Any manually defined attribute_params will override the inferred ones, allowing for customization.</p>
<p><strong>Termination Attributes</strong>: You can define a set of optional parameters that will be passed as attributes in the termination order. This is useful for resources that require extra options during deletion, such as forcing destruction or deleting associated sub-resources. This is configured under the <code>operations.delete</code> key. You can use the <code>maps_to</code> field to define a different name for the attribute in the API payload.</p>
<ul>
<li>
<p><strong>Workflow:</strong> This plugin encapsulates a complex, multi-step process:</p>
<ul>
<li><strong><code>state: present</code></strong>:<ol>
<li>Checks for the existence of the <em>final resource</em> (e.g., the volume) using <code>existence_check_op</code>.</li>
<li>If it <strong>does not exist</strong>, it creates a marketplace order via <code>marketplace_orders_create</code> and, if <code>wait: true</code>, polls for completion.</li>
<li>If it <strong>does exist</strong>, it checks for changes. It supports two kinds of updates:<ul>
<li><strong>Synchronous Updates:</strong> For simple fields listed in <code>update_check_fields</code>, it sends a direct <code>PATCH</code> request.</li>
<li><strong>Asynchronous Actions:</strong> For complex operations defined in <code>update_actions</code>, it sends a <code>POST</code> request. If this request returns a <code>202 Accepted</code> status, the module recognizes it as an asynchronous task. If <code>wait: true</code> is set, the module will then poll the <em>resource's status</em> (not the order) until it reaches a stable state (e.g., "OK" or "Erred"), which can be configured via <code>wait_config</code>.</li>
</ul>
</li>
</ol>
</li>
<li><strong><code>state: absent</code></strong>:<ol>
<li>Finds the existing resource.</li>
<li>Calls the standard <code>marketplace_resources_terminate</code> endpoint, passing any configured termination attributes.</li>
</ol>
</li>
</ul>
</li>
<li>
<p><strong>Configuration Example (<code>generator_config.yaml</code>):</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nt">modules</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">volume</span>
<span class="w">    </span><span class="nt">plugin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">order</span>
<span class="w">    </span><span class="nt">resource_type</span><span class="p">:</span><span class="w"> </span><span class="s">"OpenStack</span><span class="nv"> </span><span class="s">volume"</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">"Create,</span><span class="nv"> </span><span class="s">update,</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">delete</span><span class="nv"> </span><span class="s">an</span><span class="nv"> </span><span class="s">OpenStack</span><span class="nv"> </span><span class="s">Volume</span><span class="nv"> </span><span class="s">via</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">marketplace."</span>

<span class="w">    </span><span class="c1"># By specifying the offering type, the generator will automatically find the</span>
<span class="w">    </span><span class="c1"># corresponding schema in the OpenAPI specification (e.g., for volume size,</span>
<span class="w">    </span><span class="c1"># image, etc.) and generate all the necessary Ansible parameters.</span>
<span class="w">    </span><span class="c1"># This dramatically reduces the amount of manual configuration required.</span>
<span class="w">    </span><span class="nt">offering_type</span><span class="p">:</span><span class="w"> </span><span class="s">"OpenStack.Volume"</span>

<span class="w">    </span><span class="c1"># The base prefix for inferring standard API operation IDs.</span>
<span class="w">    </span><span class="c1"># The 'order' plugin uses this to automatically enable:</span>
<span class="w">    </span><span class="c1">#  - `check`: via `openstack_volumes_list` (to see if the volume already exists)</span>
<span class="w">    </span><span class="nt">base_operation_id</span><span class="p">:</span><span class="w"> </span><span class="s">"openstack_volumes"</span>

<span class="w">    </span><span class="c1"># The 'operations' block is for opt-ins and overrides.</span>
<span class="w">    </span><span class="nt">operations</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># Enable the 'update' operation for existing volumes.</span>
<span class="w">      </span><span class="nt">update</span><span class="p">:</span>
<span class="w">        </span><span class="c1"># The 'id' is omitted because the API follows the default convention</span>
<span class="w">        </span><span class="c1"># of using the '_partial_update' suffix for updates.</span>
<span class="w">        </span><span class="c1"># A list of fields that can be changed on an existing volume.</span>
<span class="w">        </span><span class="nt">fields</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">"description"</span><span class="p p-Indicator">]</span>

<span class="w">    </span><span class="c1"># This block defines how to resolve dependencies and filter choices for the</span>
<span class="w">    </span><span class="c1"># module's parameters.</span>
<span class="w">    </span><span class="nt">resolvers</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># This resolver is for the 'type' parameter, which was automatically</span>
<span class="w">      </span><span class="c1"># inferred from the offering_type schema.</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span>
<span class="w">        </span><span class="c1"># Shorthand for the volume types API endpoints.</span>
<span class="w">        </span><span class="nt">base</span><span class="p">:</span><span class="w"> </span><span class="s">"openstack_volume_types"</span>
<span class="w">        </span><span class="c1"># This is a powerful feature for dependent filtering. It tells the</span>
<span class="w">        </span><span class="c1"># generator to filter the list of available volume types based on</span>
<span class="w">        </span><span class="c1"># the cloud settings of the selected 'offering'.</span>
<span class="w">        </span><span class="nt">filter_by</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="c1"># The parameter whose resolved value we will use as the filter source.</span>
<span class="w">            </span><span class="nt">source_param</span><span class="p">:</span><span class="w"> </span><span class="s">"offering"</span>
<span class="w">            </span><span class="c1"># The key to extract from the resolved offering's API response.</span>
<span class="w">            </span><span class="nt">source_key</span><span class="p">:</span><span class="w"> </span><span class="s">"scope_uuid"</span>
<span class="w">            </span><span class="c1"># The query parameter to use when listing volume types. The final</span>
<span class="w">            </span><span class="c1"># API call will be something like:</span>
<span class="w">            </span><span class="c1"># `.../openstack-volume-types/?tenant_uuid=&lt;offering_scope_uuid&gt;`</span>
<span class="w">            </span><span class="nt">target_key</span><span class="p">:</span><span class="w"> </span><span class="s">"tenant_uuid"</span>

<span class="w">      </span><span class="c1"># The same dependent filtering pattern is applied to the 'image' parameter.</span>
<span class="w">      </span><span class="nt">image</span><span class="p">:</span>
<span class="w">        </span><span class="nt">base</span><span class="p">:</span><span class="w"> </span><span class="s">"openstack_images"</span>
<span class="w">        </span><span class="nt">filter_by</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">source_param</span><span class="p">:</span><span class="w"> </span><span class="s">"offering"</span>
<span class="w">            </span><span class="nt">source_key</span><span class="p">:</span><span class="w"> </span><span class="s">"scope_uuid"</span>
<span class="w">            </span><span class="nt">target_key</span><span class="p">:</span><span class="w"> </span><span class="s">"tenant_uuid"</span>

<span class="w">      </span><span class="c1"># And again for the 'availability_zone' parameter.</span>
<span class="w">      </span><span class="nt">availability_zone</span><span class="p">:</span>
<span class="w">        </span><span class="nt">base</span><span class="p">:</span><span class="w"> </span><span class="s">"openstack_volume_availability_zones"</span>
<span class="w">        </span><span class="nt">filter_by</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">source_param</span><span class="p">:</span><span class="w"> </span><span class="s">"offering"</span>
<span class="w">            </span><span class="nt">source_key</span><span class="p">:</span><span class="w"> </span><span class="s">"scope_uuid"</span>
<span class="w">            </span><span class="nt">target_key</span><span class="p">:</span><span class="w"> </span><span class="s">"tenant_uuid"</span>
</code></pre></div></td></tr></table></div>
</li>
</ul>
<h2 id="architecture">Architecture</h2>
<p>The generator's architecture is designed to decouple the Ansible logic from the API implementation details. It achieves this by using the <code>generator_config.yaml</code> as a "bridge" between the OpenAPI specification and the generated code. The generator can produce multiple, self-contained Ansible Collections in a single run.</p>
<pre class="mermaid"><code>graph TD
    subgraph "Inputs"
        B[waldur_api.yaml]
        A[generator_config.yaml]
    end

    subgraph "Engine"
        C{Generator Script}
        D[Generic Module &lt;br&gt;Template String]
    end

    subgraph "Output"
        E[Generated Ansible Module &lt;br&gt;project.py]
    end

    A --&gt; C
    B --&gt; C
    C -- Builds GenerationContext via Plugins --&gt; D
    D -- Renders final code --&gt; E</code></pre>
<h3 id="plugin-based-architecture">Plugin-Based Architecture</h3>
<p>The system's flexibility comes from its plugin architecture. The <code>Generator</code> itself does not know the details of a <code>crud</code> module versus an <code>order</code> module. It only knows how to interact with the <code>BasePlugin</code> interface.</p>
<ol>
<li><strong>Plugin Discovery</strong>: The <code>PluginManager</code> uses Python's entry point system to automatically discover and register plugins at startup.</li>
<li><strong>Delegation</strong>: The <code>Generator</code> reads a module's <code>plugin</code> key from the config and asks the <code>PluginManager</code> for the corresponding plugin.</li>
<li><strong>Encapsulation</strong>: Each plugin fully encapsulates the logic for its type. It knows how to parse its specific YAML configuration, interact with the <code>ApiSpecParser</code> to get operation details, and build the final <code>GenerationContext</code> needed to render the module.</li>
<li><strong>Plugin Contract</strong>: All plugins implement the <code>BasePlugin</code> interface, which requires a central <code>generate()</code> method. This ensures a consistent interaction pattern between the <code>Generator</code> and all plugins.</li>
</ol>
<h3 id="runtime-logic-runners-and-the-resolver">Runtime Logic (Runners and the Resolver)</h3>
<p>The logic that executes at runtime inside an Ansible module is split between two key components: <strong>Runners</strong> and the <strong>ParameterResolver</strong>.</p>
<ol>
<li>
<p><strong>Runners (<code>runner.py</code>)</strong>: Each plugin is paired with a <code>runner.py</code> file (e.g., <code>CrudRunner</code>, <code>OrderRunner</code>). This runner contains the Python logic for the module's state management (create, update, delete). The generated module file (e.g., <code>project.py</code>) is a thin wrapper that calls its corresponding runner. The generator copies the runner and a <code>base_runner.py</code> into the collection's <code>plugins/module_utils/</code> directory and rewrites their imports, making the collection <strong>fully self-contained</strong>.</p>
</li>
<li>
<p><strong>ParameterResolver</strong>: This is a powerful, centralized utility that is composed within each runner. Its sole responsibility is to handle the complex, recursive resolution of user-friendly inputs (like resource names) into the URLs or other data structures required by the API. By centralizing this logic, runners are kept clean and focused on their state-management tasks. The resolver supports:</p>
<ul>
<li>Simple name/UUID to URL conversion.</li>
<li>Recursive resolution of nested dictionaries and lists.</li>
<li>Caching of API responses to avoid redundant network calls.</li>
<li>Dependency-based filtering (e.g., filtering flavors by the tenant of a resolved offering).</li>
</ul>
</li>
</ol>
<p>The diagram below shows how the system processes each module definition.</p>
<pre class="mermaid"><code>sequenceDiagram
    participant Generator
    participant PluginManager
    participant Plugin
    participant ApiSpecParser
    participant ReturnBlockGenerator

    Note over Generator, PluginManager: Initialization
    Generator-&gt;&gt;PluginManager: Initialize &amp; discover plugins via entry points
    PluginManager--&gt;&gt;Plugin: Registers plugins by type

    Note over Generator, PluginManager: Generation Loop
    loop For each module in generator_config.yaml
        Generator-&gt;&gt;PluginManager: Get plugin for module type
        PluginManager--&gt;&gt;Generator: Return correct plugin instance

        Generator-&gt;&gt;Plugin: generate(config, api_parser, ...)
        Note right of Plugin: Plugin uses ApiSpecParser and ReturnBlockGenerator internally to build context.
        Plugin--&gt;&gt;Generator: return GenerationContext

        Generator-&gt;&gt;Generator: Render module from generic template using context
        Generator-&gt;&gt;Filesystem: Write generated module.py file
    end</code></pre>
<h3 id="the-resolvers-concept-bridging-the-human-api-gap">The Resolvers Concept: Bridging the Human-API Gap</h3>
<p>At the heart of the generator's power is the <strong>Resolver System</strong>. Its fundamental purpose is to bridge the gap between a human-friendly Ansible playbook and the strict requirements of a machine-focused API.</p>
<ul>
<li>
<p><strong>The Problem:</strong> An Ansible user wants to write <code>customer: 'Big Corp Inc.'</code>. However, the Waldur API requires a full URL for the customer field when creating a new project, like <code>customer: 'https://api.example.com/api/customers/a1b2-c3d4-e5f6/'</code>. Asking users to find and hardcode these URLs is cumbersome, error-prone, and goes against the principle of declarative, readable automation.</p>
</li>
<li>
<p><strong>The Solution:</strong> Resolvers automate this translation. You define <em>how</em> to find a resource (like a customer) by its name or UUID, and the generated module's runtime logic (the "runner") will handle the lookup and substitution for you.</p>
</li>
</ul>
<p>This system is used by all plugins but is most critical for the <code>crud</code> and <code>order</code> plugins, which manage resource relationships. Let's explore how it works using examples from our <code>generator_config.yaml</code>.</p>
<h4 id="simple-resolvers">Simple Resolvers</h4>
<p>A simple resolver handles a direct, one-to-one relationship. It takes a name or UUID and finds the corresponding resource's URL. This is common for top-level resources or parent-child relationships.</p>
<ul>
<li>
<p><strong>Mechanism:</strong> It works by using two API operations which are inferred from a base string:</p>
<ol>
<li>A <code>list</code> operation to search for the resource by its name (e.g., <code>customers_list</code> with a <code>name_exact</code> filter).</li>
<li>A <code>retrieve</code> operation to fetch the resource directly if the user provides a UUID (this is a performance optimization).</li>
</ol>
</li>
<li>
<p><strong>Configuration Example (from <code>waldur.structure</code>):</strong>
    This example configures resolvers for the <code>customer</code> and <code>type</code> parameters in the <code>project</code> module.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># In generator_config.yaml</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">project</span>
<span class="w">  </span><span class="nt">plugin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">crud</span>
<span class="w">  </span><span class="nt">base_operation_id</span><span class="p">:</span><span class="w"> </span><span class="s">"projects"</span>
<span class="w">  </span><span class="nt">resolvers</span><span class="p">:</span>
<span class="w">    </span><span class="c1"># Shorthand notation. This tells the generator:</span>
<span class="w">    </span><span class="c1"># 1. There is an Ansible parameter named 'customer'.</span>
<span class="w">    </span><span class="c1"># 2. To resolve it, use the 'customers_list' and 'customers_retrieve' API operations.</span>
<span class="w">    </span><span class="nt">customer</span><span class="p">:</span><span class="w"> </span><span class="s">"customers"</span>

<span class="w">    </span><span class="c1"># Another example for the project's 'type'.</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="s">"project_types"</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p><strong>Runtime Workflow:</strong>
    When a user runs a playbook with <code>customer: "Big Corp"</code>, the <code>project</code> module's runner executes the following logic:</p>
<pre class="mermaid"><code>sequenceDiagram
    participant User as Ansible User
    participant Module as waldur.structure.project
    participant Resolver as ParameterResolver
    participant Waldur as Waldur API

    User-&gt;&gt;Module: Executes playbook with `customer: "Big Corp"`
    Module-&gt;&gt;Resolver: resolve("customer", "Big Corp")
    Resolver-&gt;&gt;Waldur: GET /api/customers/?name_exact="Big Corp" (via 'customers_list')
    Waldur--&gt;&gt;Resolver: Returns customer object `{"url": "...", "name": "Big Corp", ...}`
    Resolver--&gt;&gt;Module: Returns resolved URL: "https://.../customers/..."

    Module-&gt;&gt;Waldur: POST /api/projects/ with body `{"customer": "https://.../customers/...", "name": "..."}`
    Waldur--&gt;&gt;Module: Returns newly created project
    Module--&gt;&gt;User: Success (changed: true)</code></pre>
</li>
</ul>
<h4 id="advanced-resolvers-dependency-filtering">Advanced Resolvers: Dependency Filtering</h4>
<p>The true power of the resolver system shines when dealing with nested or context-dependent resources. This is essential for the <code>order</code> plugin.</p>
<ul>
<li>
<p><strong>The Problem:</strong> Many cloud resources are not globally unique. For example, an OpenStack "flavor" named <code>small</code> might exist in multiple tenants. To create a VM, you need the <em>specific</em> <code>small</code> flavor that belongs to the tenant where you are deploying. A simple name lookup is not enough.</p>
</li>
<li>
<p><strong>The Solution:</strong> The <code>order</code> plugin's resolvers support a <code>filter_by</code> configuration. This allows one resolver's lookup to be filtered by the results of another, previously resolved parameter.</p>
</li>
<li>
<p><strong>Configuration Example (from <code>waldur.openstack</code>):</strong>
    This <code>instance</code> module resolves a <code>flavor</code>. The list of available flavors <em>must</em> be filtered by the tenant, which is derived from the <code>offering</code> the user has chosen.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># In generator_config.yaml</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">instance</span>
<span class="w">  </span><span class="nt">plugin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">order</span>
<span class="w">  </span><span class="nt">offering_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OpenStack.Instance</span>
<span class="w">  </span><span class="c1"># ...</span>
<span class="w">  </span><span class="nt">resolvers</span><span class="p">:</span>
<span class="w">    </span><span class="c1"># The 'flavor' resolver depends on the 'offering'.</span>
<span class="w">    </span><span class="nt">flavor</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># Shorthand to infer 'openstack_flavors_list' and 'openstack_flavors_retrieve'</span>
<span class="w">      </span><span class="nt">base</span><span class="p">:</span><span class="w"> </span><span class="s">"openstack_flavors"</span>

<span class="w">      </span><span class="c1"># This block establishes the dependency.</span>
<span class="w">      </span><span class="nt">filter_by</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="c1"># 1. Look at the result of the 'offering' parameter.</span>
<span class="w">          </span><span class="nt">source_param</span><span class="p">:</span><span class="w"> </span><span class="s">"offering"</span>
<span class="w">          </span><span class="c1"># 2. From the resolved offering's API response, get the value of the 'scope_uuid' key.</span>
<span class="w">          </span><span class="c1">#    (In Waldur, this is the UUID of the tenant associated with the offering).</span>
<span class="w">          </span><span class="nt">source_key</span><span class="p">:</span><span class="w"> </span><span class="s">"scope_uuid"</span>
<span class="w">          </span><span class="c1"># 3. When calling 'openstack_flavors_list', add a query parameter.</span>
<span class="w">          </span><span class="c1">#    The parameter key will be 'tenant_uuid', and its value will be the</span>
<span class="w">          </span><span class="c1">#    'scope_uuid' we just extracted.</span>
<span class="w">          </span><span class="nt">target_key</span><span class="p">:</span><span class="w"> </span><span class="s">"tenant_uuid"</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p><strong>Runtime Workflow:</strong> This is a multi-step process managed internally by the runner and resolver.</p>
<pre class="mermaid"><code>sequenceDiagram
    participant User as Ansible User
    participant Runner as OrderRunner
    participant Resolver as ParameterResolver
    participant Waldur as Waldur API

    Note over User, Runner: Playbook runs with `offering: "VMs in Tenant A"` and `flavor: "small"`

    Runner-&gt;&gt;Resolver: resolve("offering", "VMs in Tenant A")
    Resolver-&gt;&gt;Waldur: GET /api/marketplace-public-offerings/?name_exact=...
    Waldur--&gt;&gt;Resolver: Returns Offering object `{"url": "...", "scope_uuid": "tenant-A-uuid", ...}`
    Note right of Resolver: Caches the full Offering object internally.
    Resolver--&gt;&gt;Runner: Returns Offering URL

    Runner-&gt;&gt;Resolver: resolve("flavor", "small")
    Note right of Resolver: Sees `filter_by` config for 'flavor'.
    Resolver-&gt;&gt;Resolver: Looks up 'offering' in its cache. Finds the object.
    Resolver-&gt;&gt;Resolver: Extracts `scope_uuid` ("tenant-A-uuid") from cached object.

    Note right of Resolver: Builds query: `?name_exact=small&amp;tenant_uuid=tenant-A-uuid`
    Resolver-&gt;&gt;Waldur: GET /api/openstack-flavors/?name_exact=small&amp;tenant_uuid=tenant-A-uuid
    Waldur--&gt;&gt;Resolver: Returns the correct Flavor object for Tenant A.
    Resolver--&gt;&gt;Runner: Returns Flavor URL

    Note over Runner, Waldur: Runner now has all resolved URLs and creates the final marketplace order.</code></pre>
</li>
</ul>
<h4 id="resolving-lists-of-items">Resolving Lists of Items</h4>
<p>Another common scenario is a parameter that accepts a list of resolvable items, such as the <code>security_groups</code> for a VM.</p>
<ul>
<li>
<p><strong>The Problem:</strong> The user wants to provide a simple list of names: <code>security_groups: ['web', 'ssh']</code>. The API, however, often requires a more complex structure, like a list of objects: <code>security_groups: [{ "url": "https://.../sg-web-uuid/" }, { "url": "https://.../sg-ssh-uuid/" }]</code>.</p>
</li>
<li>
<p><strong>The Solution:</strong> The resolver system handles this automatically. The generator analyzes the OpenAPI schema for the <code>offering_type</code>. When it sees that the <code>security_groups</code> attribute is an <code>array</code> of objects with a <code>url</code> property, it configures the runner to:</p>
<ol>
<li>Iterate through the user's simple list (<code>['web', 'ssh']</code>).</li>
<li>Resolve each name individually to its full object, using the <code>security_groups</code> resolver configuration (which itself uses dependency filtering, as shown above).</li>
<li>Extract the <code>url</code> from each resolved object.</li>
<li>Construct the final list of dictionaries in the format required by the API.</li>
</ol>
</li>
</ul>
<p>This powerful abstraction keeps the Ansible playbook clean and simple, hiding the complexity of the underlying API. The user only needs to provide the list of names, and the resolver handles the rest.</p>
<h3 id="component-responsibilities">Component Responsibilities</h3>
<ol>
<li>
<p><strong>Core System (<code>generator.py</code>, <code>plugin_manager.py</code>)</strong>:</p>
<ul>
<li><strong><code>Generator</code></strong>: The main orchestrator. It is type-agnostic. Its job is to:<ol>
<li>Loop through each <strong>collection</strong> definition in the config.</li>
<li>For each collection, create the standard directory skeleton (<code>galaxy.yml</code>, etc.).</li>
<li>Loop through the <strong>module</strong> definitions within that collection.</li>
<li>Delegate to the correct plugin to get a <code>GenerationContext</code>.</li>
<li>Render the final module file.</li>
<li>Copy the plugin's <code>runner.py</code> and a shared <code>base_runner.py</code> into <code>module_utils</code>, rewriting their imports to make the collection self-contained.</li>
</ol>
</li>
<li><strong><code>PluginManager</code></strong>: The discovery service. It finds and loads all available plugins registered via entry points.</li>
</ul>
</li>
<li>
<p><strong>Plugin Interface (<code>interfaces/plugin.py</code>)</strong>:</p>
<ul>
<li><strong><code>BasePlugin</code></strong>: An abstract base class defining the contract for all plugins. It requires a <code>generate()</code> method that receives the module configuration, API parsers, and the current <strong>collection context</strong> (namespace/name) and returns a complete <code>GenerationContext</code>.</li>
</ul>
</li>
<li>
<p><strong>Runtime Components (<code>interfaces/runner.py</code>, <code>interfaces/resolver.py</code>)</strong>:</p>
<ul>
<li><strong><code>BaseRunner</code></strong>: A concrete base class that provides shared runtime utilities for all runners, such as the <code>_send_request</code> helper for making API calls.</li>
<li><strong><code>ParameterResolver</code></strong>: A reusable class that encapsulates all logic for converting user inputs (names/UUIDs) into API-ready data. It is instantiated by runners.</li>
</ul>
</li>
<li>
<p><strong>Concrete Plugins and Runners (e.g., <code>plugins/crud/</code>)</strong>:</p>
<ul>
<li>Each plugin is a self-contained directory with:<ul>
<li><strong><code>config.py</code></strong>: Pydantic models for validating its specific YAML configuration.</li>
<li><strong><code>plugin.py</code></strong>: The generation-time logic. It implements <code>BasePlugin</code> and is responsible for creating the module's documentation, parameters, and runner context.</li>
<li><strong><code>runner.py</code></strong>: The runtime logic. It inherits from <code>BaseRunner</code>, uses the <code>ParameterResolver</code>, and executes the module's core state management tasks (e.g., creating a resource if it doesn't exist).</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="how-to-add-a-new-plugin">How to Add a New Plugin</h3>
<p>This architecture makes adding support for a new module type straightforward:</p>
<ol>
<li>
<p><strong>Create Plugin Directory</strong>:
    Create a new directory for your plugin, e.g., <code>ansible_waldur_generator/plugins/my_type/</code>.</p>
</li>
<li>
<p><strong>Define Configuration Model</strong>:
    Create <code>plugins/my_type/config.py</code> with a Pydantic model inheriting from <code>BaseModel</code> to define and validate the YAML structure for your new type.</p>
</li>
<li>
<p><strong>Implement the Runner</strong>:
    Create <code>plugins/my_type/runner.py</code>. Define a class (e.g., <code>MyTypeRunner</code>) that inherits from <code>BaseRunner</code> and implements the runtime logic for your module.</p>
</li>
<li>
<p><strong>Implement the Plugin Class</strong>:
    Create <code>plugins/my_type/plugin.py</code>:
    </p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">ansible_waldur_generator.interfaces.plugin</span> <span class="kn">import</span> <span class="n">BasePlugin</span>
<span class="kn">from</span> <span class="nn">ansible_waldur_generator.models</span> <span class="kn">import</span> <span class="n">GenerationContext</span>
<span class="c1"># Import your config model and other necessary components</span>

<span class="k">class</span> <span class="nc">MyTypePlugin</span><span class="p">(</span><span class="n">BasePlugin</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get_type_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="c1"># This must match the 'type' key in the YAML config</span>
        <span class="k">return</span> <span class="s1">'my_type'</span>

    <span class="k">def</span> <span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">module_key</span><span class="p">,</span> <span class="n">raw_config</span><span class="p">,</span> <span class="n">api_parser</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">GenerationContext</span><span class="p">:</span>
        <span class="c1"># 1. Parse and validate raw_config using your Pydantic model.</span>
        <span class="c1"># 2. Use api_parser to get details about API operations.</span>
        <span class="c1"># 3. Build the argument_spec, documentation, examples, etc.</span>
        <span class="c1"># 4. Build the runner_context dictionary to pass runtime info to your runner.</span>
        <span class="c1"># 5. Return a fully populated GenerationContext object.</span>
        <span class="k">return</span> <span class="n">GenerationContext</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p><strong>Register the Plugin</strong>:
    Add the new plugin to the entry points section in <code>pyproject.toml</code>:
    </p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">[tool.poetry.plugins.</span><span class="s2">"ansible_waldur_generator"</span><span class="k">]</span>
<span class="c1"># ... existing plugins</span>
<span class="n">crud</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"ansible_waldur_generator.plugins.crud.plugin:CrudPlugin"</span>
<span class="n">order</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"ansible_waldur_generator.plugins.order.plugin:OrderPlugin"</span>
<span class="n">facts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"ansible_waldur_generator.plugins.facts.plugin:FactsPlugin"</span>
<span class="n">my_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"ansible_waldur_generator.plugins.my_type.plugin:MyTypePlugin"</span><span class="w"> </span><span class="c1"># Add this line</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p><strong>Update Poetry Environment</strong>:
    Run <code>poetry install</code>. This makes the new entry point available to the <code>PluginManager</code>. Your new <code>my_type</code> is now ready to be used in <code>generator_config.yaml</code>.</p>
</li>
</ol>
<p>After these steps, running <code>poetry install</code> will make the new <code>facts</code> type instantly available to the generator without any changes to the core <code>generator.py</code> or <code>plugin_manager.py</code> files.</p>
<h2 id="how-to-use-the-generated-collection">How to Use the Generated Collection</h2>
<p>Once generated, the collection can be used immediately for local testing or packaged for distribution. End-users who are not developing the generator can skip directly to the "Installing from Ansible Galaxy" section.</p>
<h3 id="method-1-local-development-and-testing">Method 1: Local Development and Testing</h3>
<p>The most straightforward way to test is to tell Ansible where to find your newly generated collection by setting an environment variable.</p>
<ol>
<li>
<p><strong>Set the Collection Path:</strong>
    From the root of your project, run:
    </p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">ANSIBLE_COLLECTIONS_PATH</span><span class="o">=</span>./outputs
</code></pre></div></td></tr></table></div>
    This command tells Ansible to look for collections inside the <code>outputs</code> directory. This setting lasts for your current terminal session.
</li>
<li>
<p><strong>Run an Ad-Hoc Command:</strong>
    You can now test any module using its <strong>Fully Qualified Collection Name (FQCN)</strong>. This is perfect for a quick check.</p>
<p><strong>Command:</strong>
</p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># Test the 'waldur.structure.project' module from the 'waldur.structure' collection</span>
ansible<span class="w"> </span>localhost<span class="w"> </span>-m<span class="w"> </span>waldur.structure.project<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-a<span class="w"> </span><span class="s2">"state=present \</span>
<span class="s2">      name='My AdHoc Project' \</span>
<span class="s2">      customer='Big Corp' \</span>
<span class="s2">      api_url='https://api.example.com/api/' \</span>
<span class="s2">      access_token='YOUR_SECRET_TOKEN'"</span>
</code></pre></div></td></tr></table></div>
<p><strong>Example Output (Success, resource created):</strong>
</p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="err">localhos</span><span class="kc">t</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">CHANGED</span><span class="w"> </span><span class="err">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">"changed"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-03-21T12:00:00.000000Z"</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.com/api/customers/..."</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"customer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Big Corp"</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My AdHoc Project"</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.com/api/projects/..."</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a1b2c3d4-e5f6-7890-abcd-ef1234567890"</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p><strong>Example Output (Success, resource already existed):</strong>
</p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="err">localhos</span><span class="kc">t</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">SUCCESS</span><span class="w"> </span><span class="err">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">"changed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-03-21T12:00:00.000000Z"</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.com/api/customers/..."</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"customer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Big Corp"</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My AdHoc Project"</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.com/api/projects/..."</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a1b2c3d4-e5f6-7890-abcd-ef1234567890"</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<blockquote>
<p><strong>Security Warning</strong>: Passing <code>access_token</code> on the command line is insecure. For production, use Ansible Vault or environment variables as shown in the playbook method.</p>
</blockquote>
</li>
<li>
<p><strong>Use in a Playbook:</strong>
    This is the standard and recommended way to use the collection for automation.</p>
<p><strong><code>test_playbook.yml</code>:</strong>
</p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Manage Waldur Resources with Generated Collection</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
<span class="w">  </span><span class="nt">connection</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">local</span>
<span class="w">  </span><span class="nt">gather_facts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="c1"># Good practice to declare the collection you are using</span>
<span class="w">  </span><span class="nt">collections</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">waldur.structure</span>

<span class="w">  </span><span class="nt">vars</span><span class="p">:</span>
<span class="w">    </span><span class="nt">waldur_api_url</span><span class="p">:</span><span class="w"> </span><span class="s">"https://api.example.com/api/"</span>
<span class="w">    </span><span class="nt">waldur_access_token</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">lookup('env',</span><span class="nv"> </span><span class="s">'WALDUR_ACCESS_TOKEN')</span><span class="nv"> </span><span class="s">}}"</span>

<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Ensure 'My Playbook Project' exists</span>
<span class="w">      </span><span class="c1"># Use the FQCN of the module</span>
<span class="w">      </span><span class="nt">project</span><span class="p">:</span>
<span class="w">        </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">"My</span><span class="nv"> </span><span class="s">Playbook</span><span class="nv"> </span><span class="s">Project"</span>
<span class="w">        </span><span class="nt">customer</span><span class="p">:</span><span class="w"> </span><span class="s">"Big</span><span class="nv"> </span><span class="s">Corp"</span>
<span class="w">        </span><span class="nt">api_url</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">waldur_api_url</span><span class="nv"> </span><span class="s">}}"</span>
<span class="w">        </span><span class="nt">access_token</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">waldur_access_token</span><span class="nv"> </span><span class="s">}}"</span>
<span class="w">      </span><span class="nt">register</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">project_info</span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Show the created or found project details</span>
<span class="w">      </span><span class="nt">ansible.builtin.debug</span><span class="p">:</span>
<span class="w">        </span><span class="nt">var</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">project_info.resource</span>
</code></pre></div></td></tr></table></div>
<p><strong>Run the playbook:</strong>
</p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># Set the environment variables first</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">ANSIBLE_COLLECTIONS_PATH</span><span class="o">=</span>./outputs
<span class="nb">export</span><span class="w"> </span><span class="nv">WALDUR_ACCESS_TOKEN</span><span class="o">=</span><span class="s1">'YOUR_SECRET_TOKEN'</span>

<span class="c1"># Run the playbook</span>
ansible-playbook<span class="w"> </span>test_playbook.yml
</code></pre></div></td></tr></table></div>
<p><strong>Example Output (Success):</strong>
</p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span></pre></div></td><td class="code"><div><pre><span></span><code>PLAY [Manage Waldur Resources with Generated Collection] *************************

TASK [Ensure 'My Playbook Project' exists] *************************************
changed: [localhost]

TASK [Show the created or found project details] *******************************
ok: [localhost] =&gt; {
    "project_info.resource": {
        "created": "2024-03-21T12:05:00.000000Z",
        "customer": "https://api.example.com/api/customers/...",
        "customer_name": "Big Corp",
        "description": "",
        "name": "My Playbook Project",
        "url": "https://api.example.com/api/projects/...",
        "uuid": "a1b2c3d4e5f67890abcdef1234567890"
    }
}

PLAY RECAP *********************************************************************
localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
</code></pre></div></td></tr></table></div>
</li>
</ol>
<h2 id="publishing-and-installing">Publishing and Installing</h2>
<h3 id="publishing-to-ansible-galaxy">Publishing to Ansible Galaxy</h3>
<p>The generated output is ready to be published, making your modules available to everyone.</p>
<ol>
<li>
<p><strong>Build the Collection Archive:</strong>
    Navigate to the root of the generated collection and run the build command. The output tarball will be placed in the parent directory.
    </p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># Navigate to the actual collection directory</span>
<span class="nb">cd</span><span class="w"> </span>outputs/ansible_collections/waldur/structure/

<span class="c1"># Build the collection, placing the output tarball in the `outputs` directory</span>
ansible-galaxy<span class="w"> </span>collection<span class="w"> </span>build<span class="w"> </span>--output-path<span class="w"> </span>../../../..
</code></pre></div></td></tr></table></div>
    This will create a file like <code>outputs/waldur-structure-1.0.0.tar.gz</code>.
</li>
<li>
<p><strong>Get a Galaxy API Key:</strong></p>
<ul>
<li>Log in to <a href="https://galaxy.ansible.com/">galaxy.ansible.com</a>.</li>
<li>Navigate to <code>Namespaces</code> and select your namespace.</li>
<li>Copy your API key from the "API Key" section.</li>
</ul>
</li>
<li>
<p><strong>Publish the Collection:</strong>
    Use the <code>ansible-galaxy</code> command to upload your built archive.
    </p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># Set the token as an environment variable (note the correct variable name)</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">ANSIBLE_GALAXY_TOKEN</span><span class="o">=</span><span class="s2">"your_copied_api_key"</span>

<span class="c1"># From the `outputs` directory, publish the tarball</span>
<span class="nb">cd</span><span class="w"> </span>outputs/
ansible-galaxy<span class="w"> </span>collection<span class="w"> </span>publish<span class="w"> </span>waldur-structure-1.0.0.tar.gz
</code></pre></div></td></tr></table></div>
</li>
</ol>
<h3 id="installing-from-ansible-galaxy-for-end-users">Installing from Ansible Galaxy (for End-Users)</h3>
<p>Once the collection is published, any Ansible user can easily install and use it.</p>
<ol>
<li>
<p><strong>Install the Collection:</strong>
    </p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>ansible-galaxy<span class="w"> </span>collection<span class="w"> </span>install<span class="w"> </span>waldur.structure
</code></pre></div></td></tr></table></div>
</li>
<li>
<p><strong>Use it in a Playbook:</strong>
    After installation, the modules are available globally. Users can simply write playbooks referencing the FQCN.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Create a Waldur Project</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_control_node</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Ensure project exists</span>
<span class="w">      </span><span class="nt">waldur.structure.project</span><span class="p">:</span>
<span class="w">        </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">"Production</span><span class="nv"> </span><span class="s">Project"</span>
<span class="w">        </span><span class="nt">customer</span><span class="p">:</span><span class="w"> </span><span class="s">"Customer</span><span class="nv"> </span><span class="s">Name"</span>
<span class="w">        </span><span class="nt">api_url</span><span class="p">:</span><span class="w"> </span><span class="s">"https://api.waldur.com/api/"</span>
<span class="w">        </span><span class="nt">access_token</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">my_waldur_token</span><span class="nv"> </span><span class="s">}}"</span>
</code></pre></div></td></tr></table></div>
</li>
</ol>
<h2 id="end-to-end-testing-with-vcr">End-to-End Testing with VCR</h2>
<p>This project uses a powerful "record and replay" testing strategy for its end-to-end (E2E) tests, powered by <code>pytest</code> and the <code>VCR.py</code> library. This allows us to create high-fidelity tests based on real API interactions while ensuring our CI/CD pipeline remains fast, reliable, and completely independent of a live API server.</p>
<p>The E2E tests are located in the <code>tests/e2e/</code> directory.</p>
<h3 id="core-concept-cassette-based-testing">Core Concept: Cassette-Based Testing</h3>
<ol>
<li>
<p><strong>Recording Mode:</strong> The first time a test is run, it requires access to a live Waldur API. The test executes its workflow (e.g., creating a VM), and <code>VCR.py</code> records every single HTTP request and its corresponding response into a YAML file called a "cassette" (e.g., <code>tests/e2e/cassettes/test_create_instance.yaml</code>).</p>
</li>
<li>
<p><strong>Replaying Mode:</strong> Once a cassette file exists, all subsequent runs of the same test will be completely offline. <code>VCR.py</code> intercepts any outgoing HTTP call, finds the matching request in the cassette, and "replays" the saved response. The test runs instantly without any network activity.</p>
</li>
</ol>
<p>This approach gives us the best of both worlds: the realism of integration testing and the speed and reliability of unit testing.</p>
<h3 id="running-the-e2e-tests">Running the E2E Tests</h3>
<p>The E2E tests are designed to be run in two distinct modes.</p>
<h4 id="mode-1-replaying-standard-cicd-and-local-testing">Mode 1: Replaying (Standard CI/CD and Local Testing)</h4>
<p>This is the default mode. If the cassette files exist in <code>tests/e2e/cassettes/</code>, the tests will run offline. This is the fastest and most common way to run the tests.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># Run all E2E tests using their saved cassettes</span>
poetry<span class="w"> </span>run<span class="w"> </span>pytest<span class="w"> </span>tests/e2e/
</code></pre></div></td></tr></table></div>
<p>This command should complete in a few seconds.</p>
<h4 id="mode-2-recording-when-adding-or-modifying-tests">Mode 2: Recording (When Adding or Modifying Tests)</h4>
<p>You only need to enter recording mode when you are:
*   Creating a new E2E test.
*   Modifying an existing E2E test in a way that changes its API interactions (e.g., adding a new parameter to a module call).</p>
<p><strong>Workflow for Recording a Test:</strong></p>
<ol>
<li>
<p><strong>Prepare the Live Environment:</strong> Ensure you have a live Waldur instance and that all the necessary prerequisite resources for your test exist (e.g., for creating a VM, you need a project, offering, flavor, image, etc.).</p>
</li>
<li>
<p><strong>Set Environment Variables:</strong> Provide the test runner with the credentials for the live API. <strong>Never hardcode these in the test files.</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">WALDUR_API_URL</span><span class="o">=</span><span class="s2">"https://your-waldur-instance.com/api/"</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">WALDUR_ACCESS_TOKEN</span><span class="o">=</span><span class="s2">"&lt;your_real_api_token&gt;"</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p><strong>Delete the Old Cassette:</strong> To ensure a clean recording, delete the corresponding YAML file for the test you are re-recording. <code>pytest-vcr</code> names cassettes based on the test file and function name.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># Example for the instance creation test</span>
rm<span class="w"> </span>tests/e2e/cassettes/test_e2e_modules.py::TestInstanceModule::test_create_instance.yaml
</code></pre></div></td></tr></table></div>
</li>
<li>
<p><strong>Run Pytest:</strong> Execute the test. It will now connect to the live API specified by your environment variables.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># Run a specific test to record its interactions</span>
poetry<span class="w"> </span>run<span class="w"> </span>pytest<span class="w"> </span>tests/e2e/test_e2e_modules.py::TestInstanceModule::test_create_instance
</code></pre></div></td></tr></table></div>
<p>After the test passes, a new cassette file will be generated.</p>
</li>
<li>
<p><strong>Review and Commit:</strong></p>
<ul>
<li><strong>CRITICAL:</strong> Inspect the newly generated <code>.yaml</code> cassette file.</li>
<li>Verify that sensitive data, like the <code>Authorization</code> token, has been automatically scrubbed and replaced with a placeholder (e.g., <code>DUMMY_TOKEN</code>). This is configured in <code>pyproject.toml</code> or <code>pytest.ini</code>.</li>
<li>Commit the new or updated cassette file to your Git repository along with your test code changes.</li>
</ul>
</li>
</ol>
<h3 id="writing-a-new-e2e-test">Writing a New E2E Test</h3>
<p>Follow the pattern established in <code>tests/e2e/test_e2e_modules.py</code>:</p>
<ol>
<li><strong>Organize with Classes:</strong> Group tests for a specific module into a class (e.g., <code>TestVolumeModule</code>).</li>
<li><strong>Use the <code>@pytest.mark.vcr</code> Decorator:</strong> Add this decorator to your test class or individual test methods to enable VCR.</li>
<li><strong>Use the <code>auth_params</code> Fixture:</strong> This fixture provides the standard <code>api_url</code> and <code>access_token</code> parameters, reading them from environment variables during recording and using placeholders during replay.</li>
<li><strong>Use the <code>run_module_harness</code>:</strong> This generic helper function handles the boilerplate of mocking <code>AnsibleModule</code> and running the module's <code>main()</code> function.</li>
<li><strong>Write Your Test Logic:</strong><ul>
<li><strong>Arrange:</strong> Define the <code>user_params</code> dictionary that simulates the Ansible playbook input.</li>
<li><strong>Act:</strong> Call the <code>run_module_harness</code>, passing it the imported module object and the <code>user_params</code>.</li>
<li><strong>Assert:</strong> Check the <code>exit_result</code> and <code>fail_result</code> to verify that the module behaved as expected (e.g., <code>changed</code> is <code>True</code>, the returned <code>resource</code> has the correct data).</li>
</ul>
</li>
</ol>
<p><strong>Example Skeleton:</strong>
</p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># In a test file within tests/e2e/</span>

<span class="kn">import</span> <span class="nn">pytest</span>
<span class="kn">from</span> <span class="nn">ansible_collections.waldur.structure.plugins.modules</span> <span class="kn">import</span> <span class="n">project</span> <span class="k">as</span> <span class="n">project_module</span>
<span class="c1"># ... import harness and fixtures ...</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">vcr</span>
<span class="k">class</span> <span class="nc">TestProjectModule</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">test_create_new_project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">auth_params</span><span class="p">):</span>
        <span class="c1"># 1. Arrange: Define user input</span>
        <span class="n">user_params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">"state"</span><span class="p">:</span> <span class="s2">"present"</span><span class="p">,</span>
            <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"E2E New Project"</span><span class="p">,</span>
            <span class="s2">"customer"</span><span class="p">:</span> <span class="s2">"Big Corp"</span><span class="p">,</span>
            <span class="o">**</span><span class="n">auth_params</span>
        <span class="p">}</span>

        <span class="c1"># 2. Act: Run the module</span>
        <span class="n">exit_result</span><span class="p">,</span> <span class="n">fail_result</span> <span class="o">=</span> <span class="n">run_module_harness</span><span class="p">(</span><span class="n">project_module</span><span class="p">,</span> <span class="n">user_params</span><span class="p">)</span>

        <span class="c1"># 3. Assert: Verify the outcome</span>
        <span class="k">assert</span> <span class="n">fail_result</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">assert</span> <span class="n">exit_result</span><span class="p">[</span><span class="s1">'changed'</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">True</span>
        <span class="k">assert</span> <span class="n">exit_result</span><span class="p">[</span><span class="s1">'resource'</span><span class="p">][</span><span class="s1">'name'</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"E2E New Project"</span>
</code></pre></div></td></tr></table></div></div>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    2025-08-25
  </span>

    
    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2016 - 2025 Waldur team
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tracking", "navigation.top", "toc.follow", "versioning"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../../js/print-site.js"></script>
      
        <script src="../../javascripts/extra.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>